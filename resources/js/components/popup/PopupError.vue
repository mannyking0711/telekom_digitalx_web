<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<template>

		<div ref="root" class="popup-error" @click="onClose">
			{{ $t(message) }}
			<svg-icon class="icon popup-error-icon"  sprite="app/icon-close"></svg-icon>
		</div>

	</template>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<script>

		import u from "umbrellajs";

		export default {

			/////////////////////////////////
			// INIT
			/////////////////////////////////

			name: 'PopupError',

			data() {
				return {
					message: ''
				};
			},

			computed: {

			},


			/////////////////////////////////
			// EVENTS
			/////////////////////////////////

			created() {

			},

			mounted() {

				this.$root.$on('openPopupError',this.onOpen);
			},


			/////////////////////////////////
			// METHODS
			/////////////////////////////////

			methods: {

				onOpen(e) {

					// set error message
					this.message = "Es ist ein unerwarteter Fehler aufgetreten.";

					// add error code
					if(e.response.status) { this.message +=  " (Code " + e.response.status + ")"; }

					// show element
					u(this.$refs.root).addClass('open');
				},

				onClose(e) {

					u(this.$refs.root).removeClass('open');
				}
			},


		}; // end export

	</script>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    STYLE
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<style lang="scss" scoped>

	</style>
