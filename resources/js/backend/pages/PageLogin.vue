<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<template>

		<div>

			<h1>Login</h1>
			<form-error :errors="errors"></form-error>

			<!-- FORM -->
			<input-text id="username" label="E-Mail" v-model="form.email" :error="errors.email"></input-text>
			<input-text id="password" @enter="submitLogin" label="Passwort" v-model="form.password" :error="errors.password" type="password"></input-text>

			<div class="form-row-buttons">
				<button class="btn" @click="submitLogin">{{ $t('Login') }}</button>
			</div>

			<!-- PASSWORD RESET -->
			<!-- <p>
				<router-link class="textlink" :to="link('backend.password.reset')">{{ $t('Passwort vergessen?') }}</router-link>
			</p> -->

		</div>

	</template>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<script>



		export default {


			/////////////////////////////////
			// INIT
			/////////////////////////////////

			name: 'PageLogin',

			metaInfo: {
				title: 			window.app_name,
				titleTemplate: 	'%s | Login',
				meta: [
					{ name: 'viewport', content: 'width=device-width, initial-scale=1, user-scalable=no'},
				]
			},

			props: {

			},

			data() {
				return {
					form: 	{},
					errors: {},
				};
			},

			computed: {

			},


			/////////////////////////////////
			// EVENTS
			/////////////////////////////////

			created() {

			},

			mounted() {

			},


			/////////////////////////////////
			// METHODS
			/////////////////////////////////

			methods: {

				submitLogin() {

					// execute api login
					this.$auth.login({
						data: this.form,
						staySignedIn: true,
						fetchUser: true,
					})
					.then(response => {

					})
					.catch(error => {

						// show errors
						this.showPopupError(error);
						this.showFormError(error);
					});
				}
			}

		} // end export

	</script>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CSS
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<style lang="scss">

	</style>


	<style lang="scss" scoped>

	</style>



