<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


<template>

	<div class="searchfield">

		<div class="searchfield__input">
			<input-text
				:placeholder="placeholder"
				autocomplete="off"
				v-model="term"
				ref="input"
				@change="$emit('change', term)"
				@enter="$emit('search', term)" />
			<svg-icon class="searchfield__icon" icon="app/icon-search" />
		</div>

		<button class="btn blue icon-left searchfield__button" @click="$emit('search', term)">
			<svg-icon icon="app/icon-arrow" />
			<span>{{ $t('searchfield.button') }}</span>
		</button>

	</div>

</template>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<script>

		export default {


			/////////////////////////////////
			// INIT
			/////////////////////////////////

			name: 'SearchField',

			props: {
				placeholder: String,
				searchTerm: String
			},

			data() {
				return {
					term: ''
				};
			},

			computed: {

			},

			watch: {
				searchTerm: {
					handler: function (value) {
						this.term = value;
					},
					immediate: true
				}
			},


			/////////////////////////////////
			// EVENTS
			/////////////////////////////////

			created() {

			},

			mounted() {

			},


			/////////////////////////////////
			// METHODS
			/////////////////////////////////

			methods: {
				focus: function() {
					// call the focus function from the input-text element
					this.$refs.input.focus();
				}
			}

		} // end export

	</script>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CSS
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<style lang="scss">

	</style>


	<style lang="scss" scoped>

	</style>



