<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

<template>

    <div class="index-magazine-list" :class="{loading: isLoading}" v-if="items.length > 0">

        <index-magazine-list-item
            v-for="(item) in itemsVisible"
            :key="item.id"
            :item="item"
        />

    </div>

</template>

<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

<script>
	export default {
		/////////////////////////////////
		// INIT
		/////////////////////////////////

		name: "IndexMagazineList",

		props: {
			items: {
				type: Array,
				default() {
					return [];
				},
			},
		},

		data() {
			return {
                isLoading: true,
                itemsVisible: [],
                itemsOffset: 0,
			};
		},

		computed: {
        },

		/////////////////////////////////
		// EVENTS
		/////////////////////////////////

		created() {},

		mounted() {
			this.initItems();
		},

		/////////////////////////////////
		// METHODS
		/////////////////////////////////

		methods: {
			initItems() {
                if (this.items.length > 0) {
                    this.itemsOffset = this.items.findIndex(item => item.type === 'article') + 1;
                    this.itemsVisible = this.items.slice(this.itemsOffset, this.itemsOffset + 2);
                    this.isLoading = false;
                }
			},
		},

		/////////////////////////////////
		// WATCH
		/////////////////////////////////

		watch: {
			items(newValue, oldValue) {
				this.initItems();
			},
		},
	}; // end export
</script>

<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CSS
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

<style lang="scss"></style>

<style lang="scss" scoped></style>
