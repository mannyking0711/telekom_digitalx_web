<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

<template>
	<div class="index-best-practice-list" :class="{ loading: isLoading }" v-if="items.length > 0" >
			<h3 class="title">{{ $t("bestPracticeHeadline.text") }}</h3>
			<router-link class="button" v-if="this.$i18n.locale === 'de'" to="/de/magazin/artikel?q=best%20practice" tag="button">
				{{ $t("bestPracticeButton.text") }}
			</router-link>
			<router-link class="button" v-if="this.$i18n.locale === 'en'" to="/en/magazine/article?q=best%20practice" tag="button" >
				{{ $t("bestPracticeButton.text") }}
			</router-link>

		<index-best-practice-list-item
			v-for="(item) in itemsVisible"
			:key="item.id"
			:item="item"
		/>
	</div>
</template>

<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

<script>
export default {
  /////////////////////////////////
  // INIT
  /////////////////////////////////

  name: "IndexBestPracticeList",

  props: {
	items: {
	  type: Array,
	  default() {
		return [];
	  },
	},
  },

  data() {
	return {
	  isLoading: true,
	  itemsVisible: [],
	};
  },

  computed: {},

  /////////////////////////////////
  // EVENTS
  /////////////////////////////////

  created() {},

  mounted() {
	this.initItems();
  },

  /////////////////////////////////
  // METHODS
  /////////////////////////////////

  methods: {
	initItems() {
	  if (this.items.length > 0) {
		this.itemsOffset =
		  this.items.findIndex((item) => item.type === "article") + 1;
		this.itemsVisible = this.items.slice(
		  this.itemsOffset,
		  this.itemsOffset + 2
		);
		// this.items.forEach(item => {
		//   if (item.id === 109 || item.id === 110) {
		//     this.itemsVisible.push(item)
		//   }
		// });
		this.isLoading = false;
	  }
	},
  },

  /////////////////////////////////
  // WATCH
  /////////////////////////////////

  watch: {
	items(newValue, oldValue) {
	  this.initItems();
	},
  },
}; // end export
</script>

<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    LANG
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

<i18n>
{
  "de": {
	"bestPracticeHeadline.text": "aus der praxis",
	"bestPracticeButton.text": "aktuelles aus der praxis"
  },
  "en": {
	"bestPracticeHeadline.text": "best practice",
	"bestPracticeButton.text": "latest news best practice"
  }
}
</i18n>

<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CSS
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

<style lang="scss"></style>

<style lang="scss" scoped></style>
