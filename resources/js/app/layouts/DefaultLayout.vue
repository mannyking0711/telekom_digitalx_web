<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    HTML
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


<template>

	<div class="default-layout">
		<!-- HEADER -->
		<header-component></header-component>

		<!--PAGES -->
		<page-transition class="page" :id="pageClass">
			<slot />
		</page-transition>

        <!-- FOOTER -->
        <footer-component></footer-component>

		<!-- OVERLAYS -->
		<!-- <lightbox></lightbox> -->
		<!-- <popup></popup> -->
		<popup-error></popup-error>

		<!-- COOKIE CONSENT -->
		<cookie-consent></cookie-consent>

        <!-- NEWSLETTER MODAL -->
<!--		<newsletter-modal></newsletter-modal>-->
	</div>

</template>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    JAVASCRIPT
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<script>

		export default {

			/////////////////////////////////
			// INIT
			/////////////////////////////////

			name: 'DefaultLayout',

			props: {

			},

			data() {
				return {

				};
			},

			computed: {

				pageClass() 	{ return this.$route.name ? 'page-' + this.$route.name.replace(/\./g,'-').substr(3) : ''; },
				content() 		{ return this.$store.state.content; },
				lang() 			{ return this.$i18n.locale; },
			},


			/////////////////////////////////
			// EVENTS
			/////////////////////////////////

			created() {

			},

			mounted() {

				this.$nextTick(()=>{ window.lazyload.update(); });
			},


			/////////////////////////////////
			// METHODS
			/////////////////////////////////

			methods: {

			},


			/////////////////////////////////
			// WATCHERS
			/////////////////////////////////

			watch: {

				content(newValue, oldValue) {
					this.$nextTick(()=>{ window.lazyload.update(); });
				},

				// load new content on language change
				lang(newValue, oldValue) {

					this.$nextTick(()=>{  this.$store.dispatch('loadContent'); });
				}
			}


		}; // end export

	</script>



<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//    CSS
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


	<style lang="scss">

	</style>


	<style lang="scss" scoped>

	</style>


